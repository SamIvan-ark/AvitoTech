## Установка и разворачивание проекта
1. Клонировать репозиторий к себе локально
2. Установить зависимости: `npm i` или `make install`
3. Запустить проект с помощью команды `TOKEN=<your api token> npm run start`. Токен можно получить в ТГ-боте Кинопоиска: [@kinopoiskdev_bot](https://t.me/kinopoiskdev_bot)
4. Проект будет доступен по адресу [localhost:7070](http://localhost:7070/)

### Альтернативный способ запуска
3.
    1. Создать в корне проекта файл `.env`. 
    2. В `.env` прописать единственную строку с токеном:
`TOKEN=<Сам токен>`.
    3. Запускать проект с помощью команды `make start` — токен возьмётся из файла `.env` автоматически

## Описание проблем при разработке проекта

#### 1. Настроить конфигурацию приложения так, чтобы оно запускалось с помощью команды `TOKEN=<your api token> npm run start`
##### А в чем, собственно, сложность?
Для повышения скорости разработки я использовал пакет Create-react-app. В итоге приложение просто игнорирует все переменные окружения,
которые не начинаются с префикса `REACT_APP_`, а такое поведение никак не помогает в решении задачи.
##### Как решал?
Пришлось сделать `eject` проекта, после чего все конфиги стали доступны. Нужную переменную окружения удалось "зашить" в файле `config/.env`, поэтому она стала доступна в приложении. Как альтернативу сделал команду в мейкфайле, чтобы можно было один раз установить токен в локальный файл `.env` и не прописывать его при каждом запуске.

#### 2. Как отобразить результаты запросов на разные эндпоинты для общего поиска по фильмам и для поиска фильмов по названию
##### А в чем, собственно, сложность?
Разные эндпоинты у компонентов разных уровней вложенности, но результаты при этом должны отдавать на один и тот же уровень. Получается, что в какой-то момент результаты запроса вложенного компонента должны перебить результаты запроса его родителя. 

Чуть подробнее: изначально поиск происходит по универсальному фильтру эндпоинта `.../movie` у контейнера с бизнес-логикой `SearchPage`. Результаты достаточно просто передаются в дочерний в компонент `SearchPage => MoviesPage`. А вот поиск по названию фильма идет уже по эндпоинту `.../movie/search` — эта ручка относится компоненту, который находится внутри `SearchPage`: `SearchPage => SearchForm => SearchBar`. Соответственно, результат запроса нужно поднять снова до `SearchPage` (`SearchPage <= SearchForm <= SearchBar`) и передать в `MoviesPage` (`SearchPage => MoviesPage`).
##### Как решал?
Красивым решением будет использование стейт-менеджера, но данный проект я решил делать без него, так как стейт-менеджеры не были указаны в стеке технологий.
Я оставил логику выбора нужного на данный момент эндпоинта на уровне `SearchPage`, а вот вложенный `SearchBar` поднимает наверх только `queryString` запроса. Получается, что компонент `SearchPage` сам решает, по какому эндпоинту он будет делать запрос. Решение происходит на основании свойства в `queryString`. 
##### Почему решение не очень красивое?
Такое решение жестко связаывает нас с используемым api. При смене api придется править сами компоненты.